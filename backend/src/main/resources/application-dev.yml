spring:
  config:
    import: optional:file:./secrets.properties

  docker:
    compose:
      enabled: false  # Docker runs on Mac Studio, not auto-managed

  mvc:
    async:
      request-timeout: 120000  # 2 minutes for LLM processing (9B model is slow)

  jpa:
    show-sql: false

  ai:
    ollama:
      base-url: http://localhost:11434
      chat:
        enabled: true
        options:
          model: bggpt-vocab  # Custom variant: 2048 ctx ceiling, q4_0 KV cache, faster inference
          temperature: 0.3
          num-ctx: 2048
          num-gpu: 99
          num-thread: 14

# Dev-friendly circuit breaker: shorter wait, smaller window
resilience4j:
  circuitbreaker:
    instances:
      ollama:
        wait-duration-in-open-state: 10s
        sliding-window-size: 5
        minimum-number-of-calls: 3

# Audio storage on external SSD (Mac Studio - T9 has 3.6TB vs T7s 1.8TB)
audio:
  storage:
    path: ${AUDIO_STORAGE_PATH:/Volumes/T9-NorthStar/bulgarian-vocab/audio}
